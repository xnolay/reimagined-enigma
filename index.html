<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulir Pemesanan eHose</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 py-12 px-4">

    <!-- Form Order -->
    <section id="contact" class="bg-gradient-to-br from-gray-800 to-gray-900 p-8 md:p-16 rounded-2xl shadow-2xl max-w-2xl mx-auto">
        <div class="text-center text-white mb-12">
            <h2 class="text-3xl md:text-4xl font-bold mb-2">Formulir Pemesanan eHose</h2>
            <p class="text-lg text-gray-300">Pilih produk yang Anda inginkan dan isi data diri untuk melakukan pemesanan.</p>
        </div>
        <form id="contact-form" class="mx-auto">
            <!-- Customer Data -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label for="nama" class="block text-sm font-medium text-gray-300 mb-2">Nama Lengkap</label>
                    <input type="text" id="nama" name="nama" required class="w-full px-4 py-3 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-cyan-500 focus:border-cyan-500">
                </div>
                <div>
                    <label for="perusahaan" class="block text-sm font-medium text-gray-300 mb-2">Nama Perusahaan</label>
                    <input type="text" id="perusahaan" name="perusahaan" class="w-full px-4 py-3 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-cyan-500 focus:border-cyan-500">
                </div>
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-300 mb-2">Alamat Email</label>
                    <input type="email" id="email" name="email" required class="w-full px-4 py-3 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-cyan-500 focus:border-cyan-500">
                </div>
                <div>
                    <label for="telepon" class="block text-sm font-medium text-gray-300 mb-2">Nomor Telepon</label>
                    <input type="tel" id="telepon" name="telepon" required class="w-full px-4 py-3 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-cyan-500 focus:border-cyan-500">
                </div>
            </div>

            <!-- Order Section -->
            <div class="md:col-span-2 bg-gray-700/50 p-6 rounded-lg mt-6">
                <div class="flex justify-between items-center mb-4">
                     <label class="block text-sm font-medium text-gray-300">Pilih Produk</label>
                     <label class="block text-sm font-medium text-gray-300 pr-2">Jumlah</label>
                </div>
                <div id="order-items-container" class="space-y-3">
                    <!-- Items will be generated by JS -->
                </div>

                <!-- Total Display -->
                <div class="mt-6 text-right border-t border-gray-600 pt-4">
                    <p class="text-lg text-gray-300">Total Belanja:</p>
                    <p id="total-price" class="text-3xl font-bold text-cyan-400">Rp 0</p>
                </div>
            </div>
            
            <!-- Additional Message -->
            <div class="mt-6">
                <label for="pesan" class="block text-sm font-medium text-gray-300 mb-2">Pesan / Keterangan Tambahan</label>
                <textarea id="pesan" name="pesan" rows="4" class="w-full px-4 py-3 bg-gray-700 text-white border border-gray-600 rounded-lg focus:ring-cyan-500 focus:border-cyan-500" placeholder="Contoh: Mohon dikirim ke alamat..."></textarea>
            </div>

            <!-- Submit Button -->
            <div class="text-center mt-8">
                <button type="submit" class="bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-4 px-12 rounded-full text-lg w-full md:w-auto transition-transform transform hover:scale-105">
                    Pesan Sekarang via WhatsApp
                </button>
                <p id="form-message" class="mt-4 h-5"></p>
            </div>
        </form>
    </section>

    <script>
        // ----- PUSAT DATA PRODUK -----
        // Untuk mengubah atau menambah produk, cukup edit daftar di bawah ini.
        const products = [
            { name: "ADSS 288 Core (24 Tube) 4KM", price: 150000000 },
	    { name: "FIBER OPTIC CABLE ADSS  288 CORE  ( 24 TUBE ) 4 KM", price: 150000000 },
	    { name: "FIBER OPTIC CABLE ADSS  144 CORE  ( 12 TUBE ) 4 KM", price: 75000000 },
	    { name: "FIBER OPTIC CABLE ADSS   96 CORE   ( 8 TUBE ) 4 KM", price: 49900000 },
	    { name: "FIBER OPTIC CABLE ADSS   48 CORE   ( 4 TUBE ) 4 KM", price: 29990000 },
	    { name: "FIBER OPTIC CABLE ADSS   24 CORE   ( 4 TUBE ) 4 KM", price: 20999000 },
	    { name: "FIBER OPTIC CABLE MINI ADSS- 24 CORE 4 KM", price: 15980000 },
	    { name: "FIBER OPTIC CABLE MINI ADSS- 24 CORE 2 KM", price: 7900000 },
	    { name: "FIBER OPTIC CABLE MINI ADSS- 12 CORE 4 KM", price: 11702500 },
	    { name: "FIBER OPTIC CABLE MINI ADSS- 12 CORE 3 KM", price: 8827500 },
	    { name: "FIBER OPTIC CABLE MINI ADSS- 12 CORE 2 KM", price: 5500000 },
	    { name: "FIBER OPTIC CABLE MINI ADSS-   8 CORE 2 KM", price: 5065000 },
	    { name: "FIBER OPTIC CABLE MINI ADSS-   6 CORE 2 KM", price: 4815000 },
	    { name: "FIBER OPTIC CABLE MINI ADSS-   4 CORE 2 KM", price: 4500000 },
	    { name: "FIBER OPTIC CABLE ARMOURED GYXTW  12 CORE 2 KM", price: 5990000 },
	    { name: "FIBER OPTIC CABLE ARMOURED GYXTW    4 CORE 2 KM", price: 2990000 },
	    { name: "FIBER OPTIC CABLE FIG8  ARMOUR 12 CORE 2 KM", price: 5990000 },
	    { name: "FIBER OPTIC CABLE FIG8  ARMOUR 8 CORE 2 KM", price: 5700000 },
	    { name: "FIBER OPTIC CABLE FIG8  ARMOUR 6 CORE 2 KM", price: 5500000 },
	    { name: "FIBER OPTIC CABLE MINI FIG8 GYXTC8Y-12 CORE 2 KM", price: 4314240 },
	    { name: "FIBER OPTIC CABLE MINI FIG8 GYXTC8Y-12 CORE 1KM", price: 2207120 },
	    { name: "FIBER OPTIC CABLE MINI FIG8 GYXTC8Y-8 CORE 2 KM", price: 3640250 },
	    { name: "FIBER OPTIC CABLE MINI FIG8 GYXTC8Y-6 CORE 2 KM", price: 3290250 },
	    { name: "FIBER OPTIC CABLE MINI FIG8 GYXTC8Y-6 CORE 1KM", price: 1765500 },
	    { name: "FIBER OPTIC CABLE MINI FIG8 GYXTC8Y-4 CORE 2 KM", price: 2985300 },
	    { name: "FIBER OPTIC CABLE MINI FIG8 GYXTC8Y-4 CORE 1KM", price: 1524750 },
	    { name: "FIBER OPTIC CABLE 12 CORE JELLY TUBE GJYXTCH 4 KM", price: 7490000 },
	    { name: "FIBER OPTIC CABLE 12 CORE JELLY TUBE GJYXTCH 2 KM", price: 3745000 },
	    { name: "FIBER OPTIC CABLE 12 CORE JELLY TUBE GJYXTCH 1KM", price: 1872500 },
	    { name: "FIBER OPTIC CABLE 8 CORE JELLY TUBE GJYXTCH 2 KM", price: 3477500 },
	    { name: "FIBER OPTIC CABLE 8 CORE JELLY TUBE GJYXTCH 1KM", price: 1738750 },
	    { name: "FIBER OPTIC CABLE 6 CORE JELLY TUBE GJYXTCH 2 KM", price: 3103000 },
	    { name: "FIBER OPTIC CABLE 6 CORE JELLY TUBE GJYXTCH 1KM", price: 1605000 },
	    { name: "FIBER OPTIC CABLE 4 CORE JELLY TUBE GJYXTCH 2 KM", price: 2782000 },
	    { name: "FIBER OPTIC CABLE 4 CORE JELLY TUBE GJYXTCH 1KM", price: 1444500 },
	    { name: "FIBER OPTIC CABLE 2 CORE JELLY TUBE GJYXTCH 2 KM", price: 2484000 },
	    { name: "FIBER OPTIC CABLE 2 CORE JELLY TUBE GJYXTCH 1KM", price: 1242000 },
	    { name: "FTTH DROP *4 CORE PREMIUM * 3 steel wire 1.20mm 2 KM", price: 1926000 },
	    { name: "FTTH DROP *4 CORE PREMIUM * 3 steel wire 1.20mm 1KM", price: 963000 },
	    { name: "FTTH DROP *4 CORE * 3 steel wire 1.0mm 1KM", price: 88275 },
	    { name: "FTTH DROP *2 CORE PREMIUM * 3 steel wire 1.20mm 2 KM", price: 1391000 },
	    { name: "FTTH DROP *2 CORE * 3 steel wire1.0mm 1KM", price: 695500 },
	    { name: "FTTH DROP *1 CORE PREMIUM * 3 steel wire1.20mm 1KM", price: 685000 },
	    { name: "FTTH DROP *1 CORE * 3 steel wire1.0mm 1KM", price: 56135 },
	    { name: "FTTH DROP *1 CORE GEPENG *2*0.4 steel wire, Black Carton, Fiberhome 500M", price: 299000 },
	    { name: "HORIZONTAL FIBER OPTIC JOINT CLOSURE 12 CORES ", price: 135000 },
	    { name: "HORIZONTAL FIBER OPTIC JOINT CLOSURE 24 CORES ", price: 145000 },
	    { name: "Mini PLC splitter 1*16 SC/UPC ", price: 93000 },
	    { name: "Mini PLC splitter 1*8 SC/UPC ", price: 49000 },
	    { name: "Mini PLC splitter 1*4 SC/UPC ", price: 39000 },
	    { name: "OPTIC DISTRIBUTION BOX   8 CORES with 1*8 cassette PLC splitter ", price: 125000 },
	    { name: "OPTIC DISTRIBUTION BOX 16 CORES with 1*16 cassette PLC splitter ", price: 225000 },
	    { name: "OPTIC DISTRIBUTION BOX 32 CORES with 1*16 cassette PLC splitter ", price: 270000 },
	    { name: "OPTICAL DISTRIBUTION FRAME (ODF) 48 CORES, Drawer-Type, 2Ublack, Simplex, SC/UPC ", price: 799000 },
	    { name: "OPTICAL DISRIBUTION FRAME (ODF) 96 CORES, Drawer-Type, 4Ublack, Simplex, SC/UPC ", price: 1275000 },
	    { name: "OPTIC DISTRIBUTION POINT 16 CORES Grey ABS, with 9pcs adapter, 1:16 SC/UPC PLC slplitter ", price: 399000 },
	    { name: "OPTIC DISTRIBUTION POINT 8 CORES Grey ABS, with 9pcs adapter, 1:8 SC/UPC PLC slplitter ", price: 310000 },
	    { name: "DEAD END 16- 25MM Lengkap beserta Kupingan (untuk  kabel bulat 12core diameter 5-7mm) ", price: 16000 },
	    { name: "DEAD END 25- 50MM Lengkap beserta Kupingan (untuk kabel bulat 24core&48core Dim 9-10mm) ", price: 17000 },
	    { name: "DEAD END STRAIN Plastik Lengkap beserta Kupingan (u/ kabel fig8,dropcore, kabel gepeng dim 2-7mm) ", price: 9900 },
	    { name: "SUSPENSION CORONG   untuk kabel bulat 1-288 core ALL SIZE diameter kabel 1-18mm ", price: 16000 },
        ];

        // ----- Logika Form (Tidak perlu diubah) -----
        const orderItemsContainer = document.getElementById('order-items-container');
        const totalPriceDisplay = document.getElementById('total-price');
        const formMessage = document.getElementById('form-message');

        function formatRupiah(number) {
            return new Intl.NumberFormat('id-ID', {
                style: 'currency',
                currency: 'IDR',
                minimumFractionDigits: 0
            }).format(number);
        }
        
        // Generate product options from the products array
        let productOptionsHTML = `<option value="Pilih Produk" data-price="0">-- Pilih Jenis Kabel --</option>`;
        products.forEach(product => {
            productOptionsHTML += `<option value="${product.name}" data-price="${product.price}">${product.name} - ${formatRupiah(product.price)}</option>`;
        });

        // Generate 8 order item rows
        for (let i = 1; i <= 8; i++) {
            const orderItem = document.createElement('div');
            orderItem.className = 'order-item grid grid-cols-3 gap-x-4 items-center';
            orderItem.innerHTML = `
                <div class="col-span-2">
                    <select class="product-select w-full px-4 py-2 bg-gray-800 text-white border border-gray-600 rounded-lg focus:ring-cyan-500 focus:border-cyan-500 text-sm">
                        ${productOptionsHTML}
                    </select>
                </div>
                <div>
                    <input type="number" value="0" min="0" class="qty-input w-full px-4 py-2 bg-gray-800 text-white border border-gray-600 rounded-lg focus:ring-cyan-500 focus:border-cyan-500 text-sm" placeholder="Qty">
                </div>
            `;
            orderItemsContainer.appendChild(orderItem);
        }
        
        function calculateTotal() {
            let grandTotal = 0;
            document.querySelectorAll('.order-item').forEach(item => {
                const productSelect = item.querySelector('.product-select');
                const qtyInput = item.querySelector('.qty-input');
                if (productSelect && qtyInput) {
                    const selectedOption = productSelect.options[productSelect.selectedIndex];
                    const price = parseFloat(selectedOption.getAttribute('data-price')) || 0;
                    const quantity = parseInt(qtyInput.value) || 0;
                    grandTotal += price * quantity;
                }
            });
            totalPriceDisplay.textContent = formatRupiah(grandTotal);
        }

        document.querySelectorAll('.product-select, .qty-input').forEach(element => {
            element.addEventListener('change', calculateTotal);
            element.addEventListener('input', calculateTotal);
        });

        calculateTotal();

        const contactForm = document.getElementById('contact-form');

        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();

            const nama = document.getElementById('nama').value;
            const perusahaan = document.getElementById('perusahaan').value;
            const email = document.getElementById('email').value;
            const telepon = document.getElementById('telepon').value;
            const pesan = document.getElementById('pesan').value;
            
            let orderDetails = '';
            document.querySelectorAll('.order-item').forEach((item, index) => {
                const productSelect = item.querySelector('.product-select');
                const qtyInput = item.querySelector('.qty-input');
                const quantity = parseInt(qtyInput.value) || 0;

                if (productSelect && qtyInput && quantity > 0 && productSelect.value !== "Pilih Produk") {
                    const selectedOption = productSelect.options[productSelect.selectedIndex];
                    const productName = selectedOption.value;
                    const unitPrice = parseFloat(selectedOption.getAttribute('data-price')) || 0;
                    const subTotal = unitPrice * quantity;

                    orderDetails += `\n\n*Item ${index + 1}:*`;
                    orderDetails += `\n- Produk: ${productName}`;
                    orderDetails += `\n- Harga Satuan: ${formatRupiah(unitPrice)}`;
                    orderDetails += `\n- Jumlah (Qty): ${quantity}`;
                    orderDetails += `\n- Sub Total: *${formatRupiah(subTotal)}*`;
                }
            });

            if (orderDetails.trim() === '') {
                formMessage.textContent = 'Mohon pilih minimal satu produk dan isi jumlahnya.';
                formMessage.classList.add('text-red-400');
                setTimeout(() => {
                    formMessage.textContent = '';
                    formMessage.classList.remove('text-red-400');
                }, 3000);
                return;
            }

            const totalPrice = totalPriceDisplay.textContent;

            const waMessage = `*Formulir Pemesanan eHose*

*Data Pelanggan:*
Nama: ${nama}
Perusahaan: ${perusahaan}
Email: ${email}
Telepon: ${telepon}
-----------------------------------
*Detail Pesanan:*${orderDetails}
-----------------------------------
*Total Belanja: ${totalPrice}*
-----------------------------------

*Pesan Tambahan:*
${pesan || '-'}`;

            const phoneNumber = '6281314271921';
            const waURL = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(waMessage)}`;
            
            window.open(waURL, '_blank');
            
            formMessage.textContent = 'Pesanan Anda sedang dialihkan ke WhatsApp...';
            formMessage.classList.remove('text-red-400');
            formMessage.classList.add('text-green-400');
            setTimeout(() => {
                formMessage.textContent = '';
                formMessage.classList.remove('text-green-400');
            }, 4000);
        });
    </script>
</body>
</html>

